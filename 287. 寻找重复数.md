[来源](https://leetcode-cn.com/problems/find-the-duplicate-number/)
[[二分]] [[特殊二分]]
[时间换空间]
## 分析
[[抽屉原理]]
至少有一边的苹果数大于抽屉个数，大于的地方就是有重复的地方。就是一个抽屉里面至少放两个苹果。
就是两边可以同时有答案，但是两边至少有一边有答案。

以 [2, 4, 5, 2, 3, 1, 6, 7] 为例，一共 8 个数，n + 1 = 8，n = 7，根据题目意思，每个数都在 1 和 7 之间。

例如：区间 [1, 7][1,7] 的中位数是 4，遍历整个数组，统计小于等于 4 的整数的个数，如果不存在重复元素，最多为 4 个。等于 4 的时候区间 [1, 4][1,4] 内也可能有重复元素。但是，如果整个数组里`小于等于 4 `的整数的个数`严格大于 4 `的时候，就可以说明重复的数存在于区间 [1, 4][1,4]。

说明：由于这个算法是空间敏感的，[「用时间换空间」]是反常规做法，算法的运行效率肯定不会高。

## code

```C++
class Solution {
public:
    int findDuplicate(vector<int>& nums) {
        int n = nums.size() - 1;
        int l = 1, r = n;
        while(l < r){
            int cnt = 0; // [l, mid],[mid + 1, r]
            int mid = l + r >> 1;
            for(auto m : nums)
                if(m >= l && m <= mid) cnt++;
            if(cnt > mid - l + 1) r = mid; // 如果左边数到个数大于区间长度，说明答案在左边更新r
            else l = mid + 1;
        }
        return l;
    }
};
```



