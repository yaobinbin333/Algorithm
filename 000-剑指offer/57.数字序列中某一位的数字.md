[acwing](https://www.acwing.com/problem/content/description/52/)
[[计数]]
## 分析
题意：字符串是以：01234567891011....这种格式存放，一位数占一位，两位数占两位，三位数占三位。我们输入n，然后返回n的下标的数字是什么，比如n=15的时候就是第十六位数位1

int最多是2\*10\^10
1. 确定是几位数：n - 10 - 90\*2 - 900\*3 - 9000\*4....
2. 确定是几位数的第几个数：1000+256-1
3. 属于那个数的第几位：

ps: 1的后处理，把0直接给去掉，从1开始，那么我们n=1的时候，还是输出1（即使n从0开始）
`i`是位数，`s`表示一位有多少个数，最开始有9个数，`base`（1、10、100、1000...）表示这一位的第一个数是什么

i位数字的第n个数，是哪一个数字的（比如3010）。比如我们已经求了i是4，然后n是5，就是四位数开始的第五位是哪一个数，5/4 = 1...1, 但是我们应该向上取整为2.所以是第二个数，1000 + 2（向上取整`(n + i - 1)/i`） - 1, 从base开始数的，第n个数需要-1. [[从j开始的第n个数]]

第三步：注意如果`%`为0的话，说明是那个数的末尾，把r调整为当前位数i
## code
```c++
class Solution {
public:
    
    int digitAtIndex(int n) {
        //if(!n) return 0; // 我们把0123..开始的0去掉
        long long i = 1, s = 9, base = 1;
        while(n > i * s){
            n -= i * s;
            i++, s *= 10, base*=10;
        }
        int num = base + (n + i - 1)/i - 1;
        int r = n % i ? n % i: i; // 第0位表示最后一位
        // 要求第r位的数，从1开始计数。1234，求第三位的话：把后面的4-3剩下1位删除即可
        // cout << i << ' ' << r << endl;
        for(int j = 0; j < i - r; j++) num/=10;
        // if(i - r) num = num / pow(10, i - r);
        return num%10;
    }
};  
```
